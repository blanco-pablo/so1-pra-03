(this["webpackJsonpso-pra-03-client"]=this["webpackJsonpso-pra-03-client"]||[]).push([[0],{363:function(e,t,a){e.exports=a(714)},368:function(e,t,a){},369:function(e,t,a){},714:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(9),s=a.n(o),c=(a(368),a(50)),l=a(51),i=a(53),u=a(52),d=a(54),m=(a(369),a(370),a(31)),p=a.n(m),f=a(61),h=a(725),g=a(721),b=a(13),v=a(164),E=a(34),y=a(722),k=a(723),x=a(717);function w(e){return new Promise((function(t){return setTimeout(t,e)}))}var O=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onFormSubmit=function(){var e=Object(f.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,n.resetForm,console.log("los valores son "),console.log(t),e.next=5,w(500);case 5:"admin"===t.username&&"admin"===t.password?a.props.onLoginSuccess():h.a.error("Credenciales incorrectas"),r(!1);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=v.object().shape({username:v.string().required("Username es requerido"),password:v.string().required("Password es requerido")});return r.a.createElement("div",{style:{}},r.a.createElement(g.a,{title:"Login",style:{width:800,margin:"50px auto"}},r.a.createElement(E.b,{validationSchema:e,onSubmit:this.onFormSubmit,initialValues:{username:"",password:""}},(function(){return r.a.createElement(y.a,{layout:"inline"},r.a.createElement(y.a.Item,{label:"Username",name:"username"},r.a.createElement(k.a,{prefix:r.a.createElement(b.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),name:"username",placeholder:"Username"})),r.a.createElement(y.a.Item,{label:"Password",name:"password"},r.a.createElement(k.a,{prefix:r.a.createElement(b.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),name:"password",type:"password",placeholder:"Password"})),r.a.createElement(x.a,null,"Log in"))}))))}}]),t}(r.a.Component),j=a(88),S=a.n(j),P=a(718),D=a(107),L=a(46),C=a(724),M=a(58),A=a(720),I=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).getProcesses=Object(f.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("soy llamado"),a.setState({tableLoading:!0}),e.prev=2,e.next=5,S.a.get("/processes");case 5:t=e.sent,(n=t.data).forEach((function(e){return e.key=e.pid})),a.setState({tableLoading:!1,tableDataSource:n}),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(2),console.log("ocurrio un error"),console.log(e.t0),h.a.error("ocurrio un error al obtener los procesos"),a.setState({tableLoading:!1,tableDataSource:[]});case 17:case"end":return e.stop()}}),e,null,[[2,11]])}))),a.killProcess=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("a punto de matar al proceso:",t.name,"con pid:",t.pid),e.next=4,S.a.get("/kill/".concat(t.pid));case 4:n=e.sent,console.log(n),h.a.success("Proceso '".concat(t.name,"' con pid ").concat(t.pid," matado")),a.getProcesses(),e.next=18;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("ocurrio un error"),console.log(e.t0),console.log(e.t0.response.data),console.log(e.t0.response.status),console.log(e.t0.response.headers),h.a.error("No se pudo matar el proceso");case 18:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),a.state={tableLoading:!1,tableDataSource:[]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getProcesses()}},{key:"render",value:function(){var e=this,t=[{title:"PID",dataIndex:"pid",key:"key",onFilter:function(e,t){return!0}},{title:"Nombre",dataIndex:"name",key:"name"},{title:"Estado",dataIndex:"state",key:"state"},{title:"Usuario",dataIndex:"uid",key:"uid"},{title:"Acciones",key:"action",render:function(t,a){return r.a.createElement("span",null,r.a.createElement(P.a,{title:"Matar este proceso?",okText:"Si",cancelText:"No",onConfirm:function(){e.killProcess(a)}},r.a.createElement("a",null,r.a.createElement(b.a,{type:"close-circle"})," Matar")))}}],a=this.state.tableDataSource.filter((function(e){return e.state.includes("running")})).length,n=this.state.tableDataSource.filter((function(e){return e.state.includes("sleeping")})).length,o=this.state.tableDataSource.filter((function(e){return e.state.includes("stopped")})).length,s=this.state.tableDataSource.filter((function(e){return e.state.includes("zombie")})).length,c=this.state.tableDataSource.filter((function(e){return e.state.includes("idle")})).length,l=this.state.tableDataSource.filter((function(e){return e.state.includes("disk sleep")})).length;return r.a.createElement("div",{style:{background:"white",padding:"8px"}},r.a.createElement(D.a,null,r.a.createElement(L.a,{xs:{span:5,offset:1},lg:{span:6,offset:2}},r.a.createElement(C.a,{title:"Total Procesos",value:this.state.tableDataSource.length})),r.a.createElement(L.a,{xs:{span:5,offset:1},lg:{span:6,offset:2}},r.a.createElement(C.a,{title:"Running",value:a})),r.a.createElement(L.a,{xs:{span:5,offset:1},lg:{span:6,offset:2}},r.a.createElement(C.a,{title:"Sleeping",value:n})),r.a.createElement(L.a,{xs:{span:5,offset:1},lg:{span:6,offset:2}},r.a.createElement(C.a,{title:"Stopped",value:o})),r.a.createElement(L.a,{xs:{span:5,offset:1},lg:{span:6,offset:2}},r.a.createElement(C.a,{title:"Idle",value:c})),r.a.createElement(L.a,{xs:{span:5,offset:1},lg:{span:6,offset:2}},r.a.createElement(C.a,{title:"Disk Sleep",value:l})),r.a.createElement(L.a,{xs:{span:5,offset:1},lg:{span:6,offset:2}},r.a.createElement(C.a,{title:"Zombie",value:s}))),r.a.createElement(M.a,{onClick:this.getProcesses},r.a.createElement(b.a,{type:"sync"}),"Actualizar"),r.a.createElement(A.a,{size:"middle",loading:this.state.tableLoading,dataSource:this.state.tableDataSource,columns:t}))}}]),t}(r.a.Component),F=a(719),T=a(42),U=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).lastValue=null,a.charLen=40,a.updateChar=Object(f.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.prev=1;case 2:return e.next=5,S.a.get("/cpu");case 5:return n=e.sent,e.next=8,t(1e3);case 8:a.lastValue&&function(){var e=n.data.total-a.lastValue.total,t={uv:100*(e-(n.data.idle-a.lastValue.idle))/e};a.setState((function(e,a){var n=e.data.slice(1);return n.push(t),{data:n}}))}(),a.lastValue=n.data,e.next=2;break;case 12:e.next=19;break;case 14:e.prev=14,e.t0=e.catch(1),console.log("ocurrio un error"),console.log(e.t0),h.a.error("Ocurrio un error, ya no se pudo actualizar");case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));var n=Array.apply(null,Array(a.charLen)).map((function(e,t){return{uv:0}}));return a.state={data:n},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.updateChar()}},{key:"render",value:function(){var e=this.state.data[this.state.data.length-1].uv;return r.a.createElement("div",{style:{background:"white"}},r.a.createElement(C.a,{title:"CPU%",value:e.toFixed(2)}),r.a.createElement(T.c,{style:{margin:"0 auto"},width:1200,height:400,data:this.state.data},r.a.createElement(T.b,{type:"monotone",dataKey:"uv",stroke:"blue"}),r.a.createElement(T.a,{stroke:"#ccc"}),r.a.createElement(T.d,null),r.a.createElement(T.e,{domain:[0,100]})))}}]),t}(r.a.Component),V=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).lastValue=null,a.charLen=40,a.updateChar=Object(f.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.prev=1,n=p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/ram");case 2:return n=e.sent,e.next=5,t(1e3);case 5:a.setState((function(e,t){var a=e.data.slice(1);return a.push(n.data),{data:a}}));case 6:case"end":return e.stop()}}),e)}));case 3:return e.delegateYield(n(),"t0",5);case 5:e.next=3;break;case 7:e.next=14;break;case 9:e.prev=9,e.t1=e.catch(1),console.log("ocurrio un error"),console.log(e.t1),h.a.error("Ocurrio un error, ya no se pudo actualizar");case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));var n=Array.apply(null,Array(a.charLen)).map((function(e,t){return{totalMb:0,usedMb:0,total:0,used:0,usage:0}}));return a.state={data:n},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.updateChar()}},{key:"render",value:function(){var e=this.state.data[this.state.data.length-1];return r.a.createElement("div",{style:{background:"white",textAlign:"center"}},r.a.createElement(C.a,{title:"Total MB",value:e.totalMb.toFixed(2)}),r.a.createElement(C.a,{title:"Usado MB",value:e.usedMb.toFixed(2)}),r.a.createElement(C.a,{title:"RAM%",value:e.usage.toFixed(2)}),r.a.createElement(T.c,{style:{margin:"0 auto"},width:1200,height:400,data:this.state.data},r.a.createElement(T.b,{type:"monotone",dataKey:"usedMb",stroke:"blue"}),r.a.createElement(T.a,{stroke:"#ccc"}),r.a.createElement(T.d,null),r.a.createElement(T.e,{domain:[0,parseInt(e.totalMb,10)]})))}}]),t}(r.a.Component),z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onLoginSuccess=function(){a.setState({logged:!0})},a.state={logged:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},!this.state.logged&&r.a.createElement(O,{onLoginSuccess:this.onLoginSuccess}),this.state.logged&&r.a.createElement(F.a,{dotPosition:"top"},r.a.createElement("div",{key:"1"},r.a.createElement("h3",null,"Procesos"),r.a.createElement(I,null)),r.a.createElement("div",{key:"2"},r.a.createElement("h3",null,"CPU"),r.a.createElement(U,null)),r.a.createElement("div",{key:"3"},r.a.createElement("h3",null,"Ram"),r.a.createElement(V,null))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[363,1,2]]]);
//# sourceMappingURL=main.c3aab9ff.chunk.js.map